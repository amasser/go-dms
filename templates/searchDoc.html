<!DOCTYPE html>
<html lang="en">
<head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
        <title>Search Form</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,700,700i" rel="stylesheet">
  
    <!-- Materialize Stylesheet -->
    <link rel="stylesheet" href="../static/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/searchDoc.css">

</head>
<body>
        <div class="container">
        <h4 class="center" id="title">Search Form</h4> <br>
        
            
        <div class="row">
            <form action="/doc/search" id="search-form">
                <div class="input-field col s12 m4">
                 <select name="criteria" id="search_by">
                   <option class="dropdown_default_option" value="" disabled selected aria-required="true"></option>
                   <option value="01">01</option>
                   <option value="02">02</option>
                   <option value="03">03</option>
                 </select>
                 <label for="search_by">Search by :</label>
               </div>
               <div class="input-field col s12 m8">
                    <input id="search_key"  type="text" class="validate" name="searchkey" aria-required="true">
                    <label for="search_key">Search keyword</label>
                </div>
            </form>
        </div>

        <div class="center">
                <button type="submit" class="btn tooltipped" data-position="left" data-delay="50" data-tooltip="Click here to submit your form">Submit</button>
                <button id="reset-btn" class="btn tooltipped" data-position="right" data-delay="50" data-tooltip="Click here to reset your form">Reset</button>
          </div>

</body>
    <script type="text/javascript" src="../static/js/jQuery.min.js"> </script>
    <script type="text/javascript" src="../static/js/materialize.min.js"> </script>

        <!-- Form Validation -->
    <script src="../static/js/jquery.validate.min.js"></script>
    <script>
        jQuery(document).ready(function($){
            console.log("hai this is line 52")
            window.$('select').formSelect();
            
            window.$('#reset-btn').click(function(){
                window.$('#search-form').find("input").val("");
            });
            
            window.$("#search-form").validate({
              
                rules: {
                   criteria: "required",
                   searchkey: "required"                      
                },

                messages: {
                  
                
                    criteria: {
                    required: "Please select search type"              
                    },
                    searchkey: {
                    required: "Please specify a keyword"
                    }                             
                },
                       
                errorElement : 'div',
                errorPlacement: function(error, element) {
                    console.log("entered error placement")
                    var placement = $(element).data('error');
                    if (placement) {
                    $(placement).append(error)
                    } else {
                    error.insertAfter(element);
                    }
                },
                submitHandler: function(form) {
                    console.log("entered in to submit handler")
                    form.submit();
                }
            });
        });
    </script>

</html>