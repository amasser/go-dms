<!DOCTYPE html>
<html lang="en">

  <head>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>

    <title>Search Form</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,700,700i" rel="stylesheet">
  
    <!-- Materialize Stylesheet -->
    <link rel="stylesheet" href="../static/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/searchDoc.css">


  </head>
  <body>

    <div class="container">

      <h4 class="center" id="title">Search Form</h4> <br>


    <div class="row">
      <form id="search-form" class="col s12" action="/doc/search" method="post">
        <div class="row">
          <div class="input-field col s12 m4">
                <select name="criteria" id="search_by">
                        <option class="dropdown_default_option" value="" disabled selected></option>
                        <option value="docNumber">Document Number</option>
                        <option value="docName">Document Name</option>
                        <option value="docKeyword">Keyword</option>
                </select>
                <label for="search_by">Search Type</label>
            <span id="status"></span>
          </div>
          <div class="input-field col s12 m8">
            <input id="search_key"  type="text" class="validate" name="searchKeyword">
            <label for="search_key">Search Key word</label>
          </div>
        </div>

    <div id="add-field-container" class="left">
            <a class="btn-floating btn-small waves-effect waves-light red" id="add-field-btn"><i class="material-icons">add</i></a>

    </div>
    <div class="center">
          <button type="submit" class="btn tooltipped" data-position="left" data-delay="50" data-tooltip="Click here to submit your form">Submit</button>
          <button id="reset-btn" class="btn tooltipped" data-position="right" data-delay="50" data-tooltip="Click here to reset your form">Reset</button>
    </div>

    </form>
    </div>
  </div>
</body>

  <script type="text/javascript" src="../static/js/jQuery.min.js"> </script>
  <script type="text/javascript" src="../static/js/materialize.min.js"> </script>
  
  <!-- Form Functionality -->
  <script>
  jQuery(function($){
      $('select').formSelect();
       window.$('#reset-btn').click(function(){
         window.$('#search-form').find("input").val("");
//         window.$('.error').remove();
       });
       window.$('li.disabled').click(function(){
          $(this).parent('ul').sibling('input').val("");
       });
      //  $('.datepicker').datepicker();
    });
  </script>

    <!-- Form Validation -->
    <script src="../static/js/jquery.validate.min.js"></script>
    <script>
        var validate = function() {
            $("#search-form").validate({
            rules: {
              criteria: {
                required: true,
                
              },
              searchKeyword: {
                required: true,
               
              },
              
            },
            messages: {
              criteria: {
                required: "Please select a type",
                
              },
              searchKeyword: {
                required: "Please specify a key word",
                
              },
              
            },
            errorElement : 'div',
            errorPlacement: function(error, element) {
              var placement = $(element).data('error');
              if (placement) {
                $(placement).append(error)
              } else {
                error.insertAfter(element);
              }
            },
            submitHandler: function(form) {
              form.submit();
            }
          });
        }
        jQuery(document).ready(function($){
          validate();
        });
        $("#add-field-btn").click(function(){
                newForm = '<div class="row"> \
          <div class="input-field col s12 m4">\
                <select name="criteria">\
                        <option class="dropdown_default_option" value="" disabled selected></option>\
                        <option value="docNumber">Document Number</option>\
                        <option value="docName">Document Name</option>\
                        <option value="docKeyword">Keyword</option>\
                </select>\
                <label>Search Type</label>\
            <span id="status"></span>\
          </div>\
          <div class="input-field col s12 m8">\
            <input id="search_key"  type="text" class="validate" name="searchKeyword">\
            <label for="search_key">Search Key word</label>\
          </div>\
        </div>';
        $("#add-field-container").before(newForm);
        $('select').formSelect();
        validate();
            });
    </script>

    <script>
        jQuery(document).ready(function($){
            
            
        });
    </script>

</html>
